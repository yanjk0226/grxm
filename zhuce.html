<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>注册</title>
	</head>
	<body>
		<div id="appzhuce">
			<el-form :model="zhuce" status-icon :rules="yz" ref="ruleForm" label-width="100px" class="demo-ruleForm">
				<el-form-item label="用户名" prop="name">
					<el-input type="text" v-model="zhuce.name"></el-input>
				</el-form-item>
				<el-form-item label="密码" prop="pwd">
					<el-input type="password" v-model="zhuce.pwd" autocomplete="off"></el-input>
				</el-form-item>
				<el-form-item label="身份证号" prop="sfz">
					<el-input v-model.number="zhuce.sfz"></el-input>
				</el-form-item>
				<el-form-item label="电话" prop="phone">
					<el-input v-model.number="zhuce.phone"></el-input>
				</el-form-item>
				<el-form-item label="住址" prop="zz">
					<el-input v-model.number="zhuce.zz"></el-input>
				</el-form-item>
				<el-form-item label="邮政编码" prop="yzbm">
					<el-input v-model.number="zhuce.yzbm"></el-input>
				</el-form-item>
				<el-form-item label="验证码" prop="yzm">
					<el-input v-model.number="zhuce.yzm" style="width:200px;"></el-input>
					<div  style="display: inline-block;float:right;">
							<el-image :src='url1' style="text-align: center;height:40px;"></el-image>
					</div>
				</el-form-item>
				<el-form-item style="margin-left:50px;">
					<el-button  type="primary">注册</el-button>
					<el-button>重置</el-button>
				</el-form-item>
			</el-form>
		</div>
	</body>
	<script>
		var applogin = new Vue({
			data: {
				url1:"/grxm/css/images/img2.jpg",
				zhuce: {
					name: "",
					pwd: "",
					sfz: "",
					phone:"",
					zz:"",
					yzbm:"",
					yzm:""
				},
				yz: {
					name: [{
							required: true,
							message: '用户名不能为空',
							trigger: 'blur' //移除触发
					}
					],
					pwd: [{
							required: true,
							message: '请输入密码',
							trigger: 'blur'
					}
					],
					sfz: [{
						required: true,
						message: '请输入身份证',
						trigger: 'blur'
					}],
					phone: [{
						required: true,
						message: '请输入电话',
						trigger: 'blur'
					}],
					zz: [{
						required: true,
						message: '请输入住址',
						trigger: 'blur'
					}],
					yzbm: [{
						required: true,
						message: '请输入邮政编码',
						trigger: 'blur'
					}],
					yzm: [{
						required: true,
						message: '请输入验证码',
						trigger: 'blur'
					}]

				}
			},
			methods: {
			zhuce(){
					let _this = this;
							//自定义加载块
							this.$refs['ruleForm'].validate(valid => {
							if(valid) {
							const loading = this.$loading({
								lock: true,
								text: '努力注册中....',
								spinner: 'el-icon-loading',
								background: 'rgba(0, 0, 0, 0.5)'
							});
							//延迟2秒，模拟网络延迟
							setTimeout(() => {
								          //ajax
											loading.close(); //关闭加载块【非常重要】
											_this.clearData(); //清除数据	
							}, 2000);
							}else{
								this.$alert('请按格式正确填写信息', '系统提示');
							}
							});
				}
			}
			}).$mount("#appzhuce");
	</script>
</html>
